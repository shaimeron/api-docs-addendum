



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>Overview - TradeStation API Docs - Addendum</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.0284f74d.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../css/extra.css">
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#http-requests" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="TradeStation API Docs - Addendum" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              TradeStation API Docs - Addendum
            </span>
            <span class="md-header-nav__topic">
              
                Overview
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="TradeStation API Docs - Addendum" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    TradeStation API Docs - Addendum
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Overview
      </label>
    
    <a href="./" title="Overview" class="md-nav__link md-nav__link--active">
      Overview
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#http-requests" title="HTTP Requests" class="md-nav__link">
    HTTP Requests
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#common-conventions" title="Common Conventions" class="md-nav__link">
    Common Conventions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#http-streaming" title="HTTP Streaming" class="md-nav__link">
    HTTP Streaming
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-handle-http-chunked-encoded-streams" title="How to handle HTTP Chunked Encoded Streams" class="md-nav__link">
    How to handle HTTP Chunked Encoded Streams
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-parse-json-chunks" title="How to parse JSON chunks" class="md-nav__link">
    How to parse JSON chunks
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#variable-length-json-chunking" title="Variable Length JSON Chunking" class="md-nav__link">
    Variable Length JSON Chunking
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../api-details/" title="Exploring the API" class="md-nav__link">
      Exploring the API
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../about/" title="About" class="md-nav__link">
      About
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#http-requests" title="HTTP Requests" class="md-nav__link">
    HTTP Requests
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#common-conventions" title="Common Conventions" class="md-nav__link">
    Common Conventions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#http-streaming" title="HTTP Streaming" class="md-nav__link">
    HTTP Streaming
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-handle-http-chunked-encoded-streams" title="How to handle HTTP Chunked Encoded Streams" class="md-nav__link">
    How to handle HTTP Chunked Encoded Streams
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-parse-json-chunks" title="How to parse JSON chunks" class="md-nav__link">
    How to parse JSON chunks
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#variable-length-json-chunking" title="Variable Length JSON Chunking" class="md-nav__link">
    Variable Length JSON Chunking
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Overview</h1>
                
                <h2 id="http-requests">HTTP Requests</h2>
<p>All API access is over HTTPS, and accessed from the https://api.tradestation.com.
All data is sent and received as JSON, with some limited support for XML.</p>
<p>Example Request:</p>
<pre><code>curl -i https://api.tradestation.com/v2/data/quote/msft?APIVersion=20160101

HTTP/1.1 200 OK
Cache-Control: private
Content-Length: 1545
Content-Type: application/default+json; charset=utf-8
Access-Control-Allow-Origin: *
APIVersion: 20160101
Date: Wed, 30 Nov 2016 01:51:45 GMT

[
...json...
]
</code></pre>

<h3 id="common-conventions">Common Conventions</h3>
<ul>
<li>Blank fields may either be included as null or omitted, so please support both.</li>
<li>All timestamps are returned in <a href="https://en.wikipedia.org/wiki/Unix_time">Epoch time</a> format unless stated otherwise.</li>
</ul>
<h2 id="http-streaming">HTTP Streaming</h2>
<p>The TradeStation API offers HTTP Streaming responses for some specialized
resources including intraday barcharts, quote changes, and quote snapshots.
These streams conform to RFC2616 for HTTP/1.1 Streaming with some slight
modifications.</p>
<blockquote>
<p>The HTTP streaming mechanism keeps a request open indefinitely.  It
never terminates the request or closes the connection, even after the
server pushes data to the client.  This mechanism significantly
reduces the network latency because the client and the server do not
need to open and close the connection.</p>
<p>The basic life cycle of an application using HTTP streaming is as
follows:</p>
<ol>
<li>
<p>The client makes an initial request and then waits for a
    response.</p>
</li>
<li>
<p>The server defers the response to a poll request until an update
    is available, or until a particular status or timeout has
    occurred.</p>
</li>
<li>
<p>Whenever an update is available, the server sends it back to the
    client as a part of the response.</p>
</li>
<li>
<p>The data sent by the server does not terminate the request or the
    connection.  The server returns to step 3.</p>
</li>
</ol>
<p>The HTTP streaming mechanism is based on the capability of the server
to send several pieces of information in the same response, without
terminating the request or the connection.</p>
</blockquote>
<p>Source: <a href="https://tools.ietf.org/html/rfc6202#page-7">RFC6202, Page 7</a>.</p>
<p>HTTP Streaming resources are identified under in this documentation as such,
all other resources conform to the HTTP Request pattern instead.</p>
<p>The HTTP Streaming response is returned with the following headers:</p>
<pre><code>```
Transfer-Encoding: chunked
Content-Type: application/vnd.tradestation.streams+json
```
</code></pre>
<p>Note: The <code>Content-Length</code> header is typically omitted since the response
body size is unknown.</p>
<p>Streams consist of a series of chunks that contain individual JSON objects
to be parsed separately rather than as a whole response body.</p>
<p>One unique thing about TradeStation's HTTP Streams is they also can terminate
unlike a canonical HTTP/1.1 Stream.</p>
<p>Streams terminate with a non-JSON string prefixed with one of the following:</p>
<pre><code>- `END`
- `ERROR`
</code></pre>
<p>In the case of <code>ERROR</code>, it will often be followed by an error message like:</p>
<pre><code>ERROR - A Timeout Occurred after waiting 15000ms
</code></pre>

<p>In either case, the HTTP client must terminate the HTTP Stream and end the
HTTP Request lifetime as a result of these messages. In the case of <code>ERROR</code>
the client application may add a delay before re-requesting the HTTP Stream.</p>
<h3 id="how-to-handle-http-chunked-encoded-streams">How to handle HTTP Chunked Encoded Streams</h3>
<p>Healthy chunked-encoded streams emit variable length chunks that contain
parsable JSON.</p>
<p>For example:</p>
<pre><code>GET https://sim.api.tradestation.com/v2/stream/barchart/$DJI/1/Minute/12-26-2016/01-24-2017?access_token=â€¦

HTTP/1.1 200 OK
Date: Wed, 14 Jun 2017 01:17:36 GMT
Content-Type: application/vnd.tradestation.streams+json
Transfer-Encoding: chunked
Connection: keep-alive
Access-Control-Allow-Origin: *
Cache-Control: private

114
{&quot;Close&quot;:19956.09,&quot;DownTicks&quot;:26,&quot;DownVolume&quot;:940229,&quot;High&quot;:19961.77,&quot;Low&quot;:19943.46,&quot;Open&quot;:19943.46,&quot;Status&quot;:13,&quot;TimeStamp&quot;:&quot;\/Date(1482849060000)\/&quot;,&quot;TotalTicks&quot;:59,&quot;TotalVolume&quot;:3982533,&quot;UnchangedTicks&quot;:0,&quot;UnchangedVolume&quot;:0,&quot;UpTicks&quot;:33,&quot;UpVolume&quot;:3042304,&quot;OpenInterest&quot;:0}


112
{&quot;Close&quot;:19950.82,&quot;DownTicks&quot;:32,&quot;DownVolume&quot;:440577,&quot;High&quot;:19959.15,&quot;Low&quot;:19947.34,&quot;Open&quot;:19955.64,&quot;Status&quot;:13,&quot;TimeStamp&quot;:&quot;\/Date(1482849120000)\/&quot;,&quot;TotalTicks&quot;:60,&quot;TotalVolume&quot;:761274,&quot;UnchangedTicks&quot;:0,&quot;UnchangedVolume&quot;:0,&quot;UpTicks&quot;:28,&quot;UpVolume&quot;:320697,&quot;OpenInterest&quot;:0}


END
</code></pre>

<p>Typically this will stream forever, unless a network interruption or service
disruption occurs. It is up to the client to properly handle stream lifetime
and connection closing.</p>
<h3 id="how-to-parse-json-chunks">How to parse JSON chunks</h3>
<p>In order to process these chunks, API consumers should first read the
response buffer, then de-chunk the plain-text strings, and finally identify
new JSON objects by applying tokenizing techniques to the resulting text
stream using either a streaming JSON parser, Regex, a lexer/parser, or
brute-force string indexing logic.</p>
<p>A simple but effective technique is after de-chunking to simply parse based
upon the <code>\n</code> (newline character) delimiter written to the end of each
JSON object. However, a more robust solution is less likely to break later.</p>
<h4 id="variable-length-json-chunking">Variable Length JSON Chunking</h4>
<p>As a developer, be careful with how you parse HTTP Streams, because the
APIâ€™s or intermediate proxies may chunk JSON objects many different ways.</p>
<blockquote>
<p>Using HTTP streaming, several application
messages can be sent within a single HTTP response.  The
separation of the response stream into application messages needs
to be performed at the application level and not at the HTTP
level.  In particular, it is not possible to use the HTTP chunks
as application message delimiters, since intermediate proxies
might â€œre-chunkâ€ the message stream (for example, by combining
different chunks into a longer one).  This issue does not affect
the HTTP long polling technique, which provides a canonical
framing technique: each application message can be sent in a
different HTTP response.</p>
</blockquote>
<p>Source: <a href="https://tools.ietf.org/html/rfc6202#section-3.2">RFC6202, Section 3.2</a></p>
<p>Translation: Be prepared for JSON objects that span chunks. You may see
chunks with varying numbers of JSON objects, including:</p>
<ul>
<li>"exactly 1" JSON object per chunk</li>
<li>â€œat least 1â€ JSON object per chunk</li>
<li>1 JSON object split across 2 or more chunks</li>
</ul>
<p>Example of 2 JSON objects in 1 chunk:</p>
<pre><code>GET https://sim.api.tradestation.com/v2/stream/barchart/$DJI/1/Minute/12-26-2016/01-24-2017?access_token=â€¦

HTTP/1.1 200 OK
Date: Wed, 14 Jun 2017 01:17:36 GMT
Content-Type: application/vnd.tradestation.streams+json
Transfer-Encoding: chunked
Connection: keep-alive
Access-Control-Allow-Origin: *
Cache-Control: private

22d
{&quot;Close&quot;:19956.09,&quot;DownTicks&quot;:26,&quot;DownVolume&quot;:940229,&quot;High&quot;:19961.77,&quot;Low&quot;:19943.46,&quot;Open&quot;:19943.46,&quot;Status&quot;:13,&quot;TimeStamp&quot;:&quot;\/Date(1482849060000)\/&quot;,&quot;TotalTicks&quot;:59,&quot;TotalVolume&quot;:3982533,&quot;UnchangedTicks&quot;:0,&quot;UnchangedVolume&quot;:0,&quot;UpTicks&quot;:33,&quot;UpVolume&quot;:3042304,&quot;OpenInterest&quot;:0}
{&quot;Close&quot;:19950.82,&quot;DownTicks&quot;:32,&quot;DownVolume&quot;:440577,&quot;High&quot;:19959.15,&quot;Low&quot;:19947.34,&quot;Open&quot;:19955.64,&quot;Status&quot;:13,&quot;TimeStamp&quot;:&quot;\/Date(1482849120000)\/&quot;,&quot;TotalTicks&quot;:60,&quot;TotalVolume&quot;:761274,&quot;UnchangedTicks&quot;:0,&quot;UnchangedVolume&quot;:0,&quot;UpTicks&quot;:28,&quot;UpVolume&quot;:320697,&quot;OpenInterest&quot;:0}
END
</code></pre>

<p>Example of 1 JSON objects split across 2 chunks:</p>
<pre><code>GET https://sim.api.tradestation.com/v2/stream/barchart/$DJI/1/Minute/12-26-2016/01-24-2017?access_token=â€¦

HTTP/1.1 200 OK
Date: Wed, 14 Jun 2017 01:17:36 GMT
Content-Type: application/vnd.tradestation.streams+json
Transfer-Encoding: chunked
Connection: keep-alive
Access-Control-Allow-Origin: *
Cache-Control: private

40
{&quot;Close&quot;:71.65,&quot;DownTicks&quot;:45,&quot;DownVolume&quot;:5406,&quot;High&quot;:71.67,&quot;Lo
C2
w&quot;:71.65,&quot;Open&quot;:71.66,&quot;Status&quot;:13,&quot;TimeStamp&quot;:&quot;\/Date(1497016260000)\/&quot;,&quot;TotalTicks&quot;:77,&quot;TotalVolume&quot;:17270,&quot;UnchangedTicks&quot;:0,&quot;UnchangedVolume&quot;:0,&quot;UpTicks&quot;:32,&quot;UpVolume&quot;:11864,&quot;OpenInterest&quot;:0}

END
</code></pre>

<p>This is allowed by the HTTP/1.1 specification, but can be confusing or lead
to bugs in client applications if you try to depend parsing JSON along
the HTTP chunk-boundaries because even if it works during testing, later if
users connect from a different network, it may change the chunking behavior.</p>
<p>For example, if you are at a coffee shop with wifi which employs an
HTTP Proxy, then it may buffer the stream and change the chunking boundary
from 1 JSON object per chunk, to splitting each JSON object across 2 or 3.</p>
<p>In fact, the HTTP/1.1 spec clearly advises developers of proxies to always
â€œre-chunkâ€ HTTP Streams, so this is almost a guarantee to happen in the wild.</p>
<p>HTTP Streaming API consumers should be prepared to support all variations.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href=".." title="Home" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Home
              </span>
            </div>
          </a>
        
        
          <a href="../getting-started/" title="Getting Started" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Getting Started
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>